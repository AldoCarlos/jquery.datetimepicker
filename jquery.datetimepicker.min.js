/**
 * DateTime Picker plugin that alters JQuery's datepicker to add hour selection
 * @version: v1.0.0
 * @author: Aldo Junior Carlos
 * Based on
 * http://jonthornton.github.com/jquery-timepicker/
 * http://jqueryui.com/datepicker/
 */
(function(n){var i,t;n.fn.datetimepicker=function(t){return t=n.extend({},t),t.showButtonPanel=!0,t.showTime=!0,this.datepicker(t)},n.datepicker._selectDateOverload=n.datepicker._selectDate,n.datepicker._selectDate=function(t,i){var f=n(t),r=this._getInst(f[0]),u=this._get(r,"showTime");u?(r.inline=!0,n.datepicker._selectDateOverload(t,i),r.inline=!1,n.datepicker._updateDatepicker(r)):n.datepicker._selectDateOverload(t,i)},i=n.datepicker._updateDatepicker,n.datepicker._updateDatepicker=function(t){var f,r;if(i.apply(this,arguments),f=this._get(t,"showTime"),f){var e=t.dpDiv.find("table:last"),o=e.find("tbody>tr:first"),s=o.parent().children("tr").length,u=n("<div/>").css({margin:10,"text-align":"center"}).insertAfter(e);n("<span>Hora: <\/span>").css({"font-weight":"bold"}).appendTo(u),r=n("<input/>").attr({maxlength:5,size:5}).appendTo(u),t.currentTime&&r.val(t.currentTime);r.timepicker({appendTo:t.dpDiv,scrollDefault:"now",timeFormat:"H:i"}).on("changeTime",function(){t.currentTime=n(this).val(),t.input&&(t.input.val(n.datepicker._formatDate(t)),n.datepicker._updateAlternate(t))});r.mask("00:00",{placeholder:" __:__"})}},n.datepicker._setDateFromFieldOverride=n.datepicker._setDateFromField,n.datepicker._setDateFromField=function(t,i){n.datepicker._setDateFromFieldOverride(t,i),t.currentTime=t.input.val().split(" ")[1]},t=n.datepicker.formatDate,n.datepicker.formatDate=function(i,r,u){var f=n.datepicker._curInst,o=this._get(f,"showTime"),e=t(i,r,u);return o&&f.currentTime&&(e+=" "+f.currentTime),e},n.datepicker._gotoToday=function(t){var u=n(t),i=this._getInst(u[0]),f=this._get(i,"showTime"),r;this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear(),i.currentTime=this._getTimeText(i,r.getHours(),r.getMinutes()),this._setDateDatepicker(u,r),this._selectDateOverload(t,this._getDateDatepicker(u))),this._notifyChange(i),this._adjustDate(u)},n.datepicker._getTimeText=function(n,t,i){if(this._get(n,"clockType")==12){var r=t==0||t==12?12:t>=12?t-12:t;return(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)+" "+(t<12?" AM":" PM")}return(t<10?"0"+t:t)+":"+(i<10?"0"+i:i)}})(jQuery);